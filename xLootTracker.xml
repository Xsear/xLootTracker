<?xml version="1.0" encoding="utf-8"?>
<Component
    xmlns="http://www.red5studios.com/" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://www.red5studios.com/ ../../../schemas/component.xsd"
    >
    <Info
        title="LootTracker"
        author="Xsear"
        description="Tracks loot drops."
        url="http://forums.firefallthegame.com/community/threads/addon-xsears-squad-loot-manager.1914241/"
        uiVersion="1000"
    />

    <Events>
        <!-- Firefall -->
        <Event name="ON_COMPONENT_LOAD"            bind="OnComponentLoad"     />
        <Event name="MY_HUD_SHOW"                  bind="OnHudShow"           />
        <Event name="MY_HIDE_HUD_REQUEST"          bind="OnHideHudRequest"    />
        <Event name="ON_INPUT_MODE_CHANGED"        bind="OnInputModeChanged"  />
        <Event name="ON_UI_ENTITY_AVAILABLE"       bind="OnEntityAvailable"   />
        <Event name="ON_UI_ENTITY_LOST"            bind="OnEntityLost"        />
        <Event name="ON_SQUAD_ROSTER_UPDATE"       bind="OnSquadRosterUpdate" />
        <Event name="ON_LOOT_COLLECTED"            bind="OnLootCollected"     />
        <Event name="ON_LOOT_PICKUP"               bind="OnLootPickup"        />

        <!-- Custom -->
        <Event name="XLT_ON_TRACKER_NEW"           bind="OnTrackerNew"        />
        <Event name="XLT_ON_TRACKER_UPDATE"        bind="OnTrackerUpdate"     />
        <Event name="XLT_ON_TRACKER_LOOTED"        bind="OnTrackerLooted"     />
        <Event name="XLT_ON_TRACKER_REMOVE"        bind="OnTrackerRemove"     />
    </Events>
    
    <Styles>
        <StyleSheet name="ItemHeader">  
            font:Demi_17;
            halign:center;
            valign:middle;
            color:FFFFFF;
            scaleX:2;
            scaleY:2";
        </StyleSheet>

        <StyleSheet name="LootPanel_Text_Large">  
            font:Demi_17;
            halign:center;
            valign:top;
            color:FFFFFF;
            scaleX:2;
            scaleY:2;
        </StyleSheet>

        <StyleSheet name="LootPanel_Text_Timer">
            font:Demi_17;
            halign:center;
            valign:middle;
            color:FFFFFF;
            scaleX:2;
            scaleY:2;
        </StyleSheet>

        <StyleSheet name="LootPanel_Text_Small">  
            font:UbuntuMedium_12;
            halign:left
            color:FFFFFF;
            scaleX:2;
            scaleY:2;
        </StyleSheet>


        <StyleSheet name="Tracker_Text">  
            font:UbuntuMedium_10;
            halign:left;
            valign:middle;
            color:FFFFFF;
            alpha:1.0;
            shadow:0;
        </StyleSheet>

        <StyleSheet name="Tracker_Slider" parent="#Slider">
            texture:colors; 
            region-thumb-min:white;
            region-thumb-mid:white;
            region-thumb-max:white;
            region-slider-min:black;
            region-slider-mid:black;
            region-slider-max:black;
            horizontal:false;
            inverted:false;
            visible:true;
            alpha:0.5;
            shadow:0.4;
        </StyleSheet>


        <StyleSheet name="Tracker_PlateBorder" parent="standard">
            texture:ButtonSkin;
            region-topleft:;
            region-top:border_horz;
            region-topright:border_corner_mh;
            region-left:;
            region-center:border_center;
            region-right:border_vert_mh;
            region-bottomleft:;
            region-bottom:border_horz_mv;
            region-bottomright:border_corner_md;
            exposure:0.2
            padding:4;
        </StyleSheet>

    </Styles>
    
    <BluePrints>

        <BluePrint name="LootPanel_Stat" instantiable="true">
            <StillArt dimensions="top:0; left:10%; width:40% -8; height:100%;" style="texture:colors; region:white; tint:#000000; alpha:0.5;"/>
            <StillArt dimensions="top:0; left:50%; width:40%; height:100%;" style="texture:colors; region:white; tint:#000000; alpha:0.5;"/>
            <Text name="statName" dimensions="top:0; left:10%; width:40%; height:100%;" class="LootPanel_Text_Small"/>
            <Text name="statValue" dimensions="top:0; left:50%; width:40%; height:100%;" class="LootPanel_Text_Small"/>
        </BluePrint>

        <BluePrint name="Tracker_List_Entry" instantiable="true">

            <!-- Plate -->
            <FocusBox name="plate" dimensions="width:100%-30; height:28; left:30; top:2;">
                <StillArt name="bg" dimensions="width:100%-2.2; height:99%-2;" style="texture:colors; region:white; tint:#000000; alpha:0.7;"/>
                <Border name="outer" dimensions="dock:fill" class="Tracker_PlateBorder"/>
                <Border name="shade" dimensions="dock:fill" class="ButtonFade"/>
            </FocusBox>

            <!-- Item icon -->
            <FocusBox name="item" dimensions="width:32; height:32; left:0; top:0;">
                <StillArt name="bg" dimensions="width:96%; height:96%;" style="texture:colors; region:white; tint:#000000; alpha:1;"/>
                <StillArt name="backplate" dimensions="width:99%; height:99%;" style="texture:ItemPlates; region:common;"/>
                <Border name="outer" dimensions="dock:fill" class="ButtonBorder"/>
                <Border name="shade" dimensions="width:0;height:0;" class="ButtonFade"/>
                <WebImage name="itemIcon" dimensions="width:32; height:32; left:0; top:0" style="fixed-bounds:true; valign:center;"/>
            </FocusBox>

            <!-- Bar on the left -->
            <Group name="leftBar" dimensions="left:11%; width:25%; height:28; top:2;">

                 <!-- Bar Backplate -->
                <!--<StillArt dimensions="dock:fill" style="texture:colors; region:white; tint:#00FF00; alpha:0.6;"/>-->

                <!-- Primary Button Group -->
                <ListLayout name="buttons" dimensions="width:87; height:25" style="halign:center; valign:center; horizontal:true; hpadding:4;" >
                    <!-- Buttons dynamically created -->
                </ListLayout>

                <!-- Alternate Text -->
                <Text name="assignedTo" dimensions="width:100%; height:100%;" class="Tracker_Text"/>

            </Group>

            <!-- Item name on the right -->
            <Text name="itemName" dimensions="left:59%; width:20%; height:100%; top:2;" class="Tracker_Text"/>
        </BluePrint>
    </BluePrints>

    <Frames>
        <!-- Tracker 
            width:400; 
        -->
        <PanelFrame name="Tracker" dimensions="left:0; right:50%-450; height:150; center-y:74%;" permanent="true" visible="true" depth="10">
            <Children>
                <!--<StillArt name="Background" dimensions="dock:fill" style="texture:colors; region:white; tint:#000000; alpha:0.3;"/>-->
                
                    <!-- List -->
                    <Group name="List" dimensions="width:100%; height:98%; top:2%; center-x:50%;" style="vertical:true; vpadding:9; clip-children:false;">
                        <!-- Tracker_List_Entry:ies go in here -->
                    </Group>

                    <!-- Slider -->
                    <Slider name='Slider' dimensions="width:3; right:100%; top:0; bottom:100%" class="Tracker_Slider"/>
            </Children>
        </PanelFrame>
    </Frames>
</Component>