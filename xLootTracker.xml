<?xml version="1.0" encoding="utf-8"?>
<Component
    xmlns="http://www.red5studios.com/" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://www.red5studios.com/ ../../../schemas/component.xsd"
    >
    <Info
        title="LootTracker"
        author="Xsear"
        description="Tracks loot drops."
        url="//forums.firefall.com/community/threads/4880421"
        uiVersion="1000"
    />

    <Events>
        <!-- Firefall -->
        <Event name="ON_COMPONENT_LOAD"            bind="OnComponentLoad"     />
        <Event name="ON_SIN_VIEW"                  bind="OnSinView"           />
        <Event name="ON_PLAYER_READY"              bind="OnPlayerReady"       />
        <Event name="ON_ENTER_ZONE"                bind="OnEnterZone"         />
        <Event name="ON_INPUT_MODE_CHANGED"        bind="OnInputModeChanged"  />
        <Event name="ON_SQUAD_ROSTER_UPDATE"       bind="OnSquadRosterUpdate" />
        <Event name="ON_UI_ENTITY_AVAILABLE"       bind="OnEntityAvailable"   />
        <Event name="ON_UI_ENTITY_LOST"            bind="OnEntityLost"        />
        <Event name="ON_LOOT_COLLECTED"            bind="OnLootCollected"     />
        <Event name="MY_LOOT_COLLECTED"            bind="OnLootCollected"     />

        <!-- Custom -->
        <Event name="XLT_ON_TRACKER_NEW"           bind="OnTrackerNew"        />
        <Event name="XLT_ON_TRACKER_UPDATE"        bind="OnTrackerUpdate"     />
        <Event name="XLT_ON_TRACKER_LOOTED"        bind="OnTrackerLooted"     />
        <Event name="XLT_ON_TRACKER_REMOVE"        bind="OnTrackerRemove"     />
    </Events>


      <Textures>
        <Texture name="Inventory" src="components/MainUI/Panels/Inventory/textures/Inventory.dds" premultiplied="false" minScale="1">
            <Region name="backpack" top="24" bottom="43" left="0" right="21" />
        </Texture>
        
        <Texture name="filterArrow" src="components\MainUI\Panels\Market\ShowFilterArrow.dds" premultiplied="false">
            <Region name="normal" top="1" bottom="11" left="1" right="15" />
            <Region name="mirrored" top="11" bottom="1" left="1" right="15" />
        </Texture>
        
        <Texture name="Divider" src="components\MainUI\Panels\Inventory\textures\HR.png" premultiplied="false"/>
        <Texture name="dash_lines" src="components\MainUI\Panels\Inventory\textures\dashLineMask.png" premultiplied="false"/>
    </Textures>
    
    <Colors>
        <Color name="textColor"     value="#FFFFFF"/>
        <Color name="RowDefault"    value="#000000"/>
        <Color name="RowHover"      value="#0E89C7"/>
    </Colors>

    <Styles>

        <StyleSheet name="panelBG" parent="PanelBackDrop">
            clip-children:false;
            alpha:0.7;
            tint:#222222;
        </StyleSheet>

        <StyleSheet name="FilterRowText">
            font:Demi_10;
            halign: left;
            valign: center;
            color: textColor;
        </StyleSheet>

        <StyleSheet name="ItemHeader">  
            font:Demi_17;
            halign:center;
            valign:middle;
            color:FFFFFF;
            scaleX:2;
            scaleY:2";
        </StyleSheet>

        <StyleSheet name="LootPanel_Text_Large">  
            font:Demi_17;
            halign:center;
            valign:top;
            color:FFFFFF;
            scaleX:2;
            scaleY:2;
        </StyleSheet>

        <StyleSheet name="LootPanel_Text_Timer">
            font:Demi_17;
            halign:center;
            valign:middle;
            color:FFFFFF;
            scaleX:2;
            scaleY:2;
        </StyleSheet>

        <StyleSheet name="LootPanel_Text_Small">  
            font:UbuntuMedium_12;
            halign:left
            color:FFFFFF;
            scaleX:2;
            scaleY:2;
        </StyleSheet>


        <StyleSheet name="Tracker_Text">  
            font:UbuntuMedium_10;
            halign:left;
            valign:middle;
            color:FFFFFF;
            alpha:1.0;
            drop-shadow:0;
        </StyleSheet>

        <StyleSheet name="Tracker_Slider" parent="#Slider">
            texture:colors; 
            region-thumb-min:white;
            region-thumb-mid:white;
            region-thumb-max:white;
            region-slider-min:black;
            region-slider-mid:black;
            region-slider-max:black;
            horizontal:false;
            inverted:false;
            visible:true;
            alpha:0.5;
            shadow:0.4;
        </StyleSheet>


        <StyleSheet name="Tracker_PlateBorder" parent="ButtonBorder">
        </StyleSheet>

    </Styles>
    
    <BluePrints>
        
        <!-- Loot Panels -->
        <BluePrint name="LootPanel_Stat" instantiable="true">
            <StillArt dimensions="top:0; left:10%; width:40% -8; height:100%;" style="texture:colors; region:white; tint:#000000; alpha:0.5;"/>
            <StillArt dimensions="top:0; left:50%; width:40%; height:100%;" style="texture:colors; region:white; tint:#000000; alpha:0.5;"/>
            <Text name="statName" dimensions="top:0; left:10%; width:40%; height:100%;" class="LootPanel_Text_Small"/>
            <Text name="statValue" dimensions="top:0; left:50%; width:40%; height:100%;" class="LootPanel_Text_Small"/>
        </BluePrint>
        
    
        <!-- Filtering UI -->
        <BluePrint name="Panel" >
            <Border dimensions="dock:fill" class="PanelBackDrop" />
        </BluePrint>

        <BluePrint name="Tab" > <!-- originally Tab_Left from Inventory -->
            <Group name="background" dimensions="dock:fill">
                <Group name="solid" dimensions="dock:fill" >
                    <StillArt dimensions="left:1; top:1; height:5; width:5;" style="texture:PanelParts; region:Circle_TL; tint:000000"/>
                    <StillArt dimensions="left:6; top:1; height:5; right:100%-1;" style="texture:colors; region:white; tint:000000"/>
                    <StillArt dimensions="left:1; top:6; bottom:100%-6; width:5;" style="texture:colors; region:white; tint:000000"/>
                    <StillArt dimensions="left:1; right:100%-1; bottom:100%-1; height:5;" style="texture:colors; region:white; tint:000000"/>
                    <StillArt dimensions="left:6; right:100%-1; top:6; bottom:100%-6;" style="texture:colors; region:white; tint:000000"/>
                </Group>
                <Group name="outline" dimensions="dock:fill" style="alpha:0.15" >
                    <StillArt dimensions="right:100%; top:0; height:100%-1; width:1;" style="texture:colors; region:white"/>
                    <StillArt dimensions="left:0; right:100%; bottom:100%; height:1;" style="texture:colors; region:white"/>
                </Group>
            </Group>
            <StillArt name="glow" dimensions="left:-10; width:100%; top:1; height:100" style="texture:GarageParts; region:topBattleFrameNameGlow; alpha:0"/>
            <Text name="label" dimensions="dock:fill" style="font:UbuntuMedium_12; halign:center; valign:center"/>
            <FocusBox name="button" dimensions="dock:fill" class="ui_button" />
        </BluePrint>

        <BluePrint name="BlacklistRow" instantiable="true">
                <StillArt name="bg" dimensions="dock:fill" style="texture:colors; tint:RowDefault; region:white; alpha:0.4;"/>
                <Group name="content" dimensions="dock:fill">
                    <Group name="icon" dimensions="left:0; top:0; height:100%; width:10%-4"/>
                    <Group name="name" dimensions="left:20%; top:0; height:100%; width:20%-4"/>
                    <Group name="typeid" dimensions="left:40%; top:0; height:100%; width:15%-4"/>
                    <Group name="actions" dimensions="left:55%; top:0; height:100%; width:20%-4"/>
                </Group>
                <FocusBox name="focusBox"   dimensions="dock:fill" />
        </BluePrint>

        <BluePrint name="RowField" instantiable="true">
            <StillArt name="bg" dimensions="dock:fill" style="texture:colors; tint:#ff000000; region:white; alpha:0.2;"/>
            <Text    name="text"   key="WINDOW_TITE"  dimensions="dock:fill" class="FilterRowText" />
        </BluePrint>


    </BluePrints>

    <Frames>
        <!-- Tracker -->
        <PanelFrame name="Tracker" dimensions="left:0; right:50%-450; height:150; center-y:74%;" permanent="true" visible="true" depth="10">
            <Children>
                <!--
                <StillArt name="Background" dimensions="dock:fill" style="texture:colors; region:white; tint:#000000; alpha:0.3;"/>
                -->
            
                <!-- List -->
                <Group name="List" dimensions="width:100%; height:100%; top:0%; center-x:50%;" style="clip-children:false;">
                    <!-- Entries go in here -->
                </Group>

                <!-- Slider -->
                <Slider name="Slider" dimensions="width:3; right:100%; top:0; bottom:100%" class="Tracker_Slider"/>
            </Children>
        </PanelFrame>

        <!-- Options -->
        <PanelFrame name="Options" dimensions="center-x:36%; center-y:40%; width:70%; height:60%" visible="false" depth="0">
            <Children>
                <Group id="Window" dimensions="right:100%; top:0; height:100%; left:0" style="alpha:1">
                    <!-- Title -->
                    <Group dimensions="left:0; top:0; height:38; width:100%" blueprint="Panel">
                        <Group id="MovableParent" dimensions="dock:fill"/>
                        <Text id="title" dimensions="top:0; left:0; width:100%; height:38" style="font:Demi_15; halign:center; valign:center;  color:PanelTitle;"/>
                        <FocusBox id="close" dimensions="left:100%-48; right:100%; top:0; bottom:100%" class="ui_button">
                            <Border dimensions="dock:fill" style="tint:000000; alpha:0.5; padding:3; "/>
                            <StillArt name="X" dimensions="center-x:50%; center-y:50%; width:16; height:16" style="texture:DialogWidgets; region:close; eatsmice:false"/>
                        </FocusBox>
                    </Group>

                    <!-- Body -->
                    <Group dimensions="left:0; top:40; height:100%; width:100%">                        
                        <Group dimensions="left:0; top:0; height:100%; width:100%" blueprint="Panel">
                            <Group id="Tabs" dimensions="left:0; top:0; bottom:45; right:100%"/>
                            <Group id="Body" dimensions="left:0; top:0; bottom:100%; right:100%">
                                <Group id="LeftColumn" dimensions="left:0; top:52; height:100%; width:25%;" blueprint="Panel">
                                    <Group id="ButtonAdd" dimensions="right:50%-5; top:0%+9; height:24; width:120"/>
                                    <Group id="ButtonDel" dimensions="right:50%-5; top:0%+38; height:24; width:120"/>
                                </Group>
                                <Group id="MainArea" dimensions="left:25%+1; top:52; height:100%; width:75%;" blueprint="Panel">
                                    <Group id="FilterList" dimensions="dock:fill;"/>
                                </Group>
                            </Group>
                        </Group>
                    </Group>
                </Group>
            </Children>
            <OnClose bind="OnClose"/>
            <OnEscape bind="OnClose"/>
        </PanelFrame>
    </Frames>
</Component>