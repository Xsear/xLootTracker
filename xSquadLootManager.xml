<?xml version="1.0" encoding="utf-8"?>
<Component
    xmlns="http://www.red5studios.com/" 
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
    xsi:schemaLocation="http://www.red5studios.com/ ../../../schemas/component.xsd"
    >
    <Info
        title="SquadLootManager"
        author="Xsear"
        description="Helps the user with keeping an eye on item drops, and can assist with distributing that loot within a squad."
        url="http://forums.firefallthegame.com/community/threads/addon-xsears-squad-loot-manager.1914241/"
        uiVersion="1000"
    />

    <Events>
        <!-- Firefall -->
        <Event name="ON_COMPONENT_LOAD"            bind="OnComponentLoad"     />
        <Event name="MY_HUD_SHOW"                  bind="OnHudShow"           />
        <Event name="MY_HIDE_HUD_REQUEST"          bind="OnHideHudRequest"    />
        <Event name="ON_INPUT_MODE_CHANGED"        bind="OnInputModeChanged"  />
        <Event name="ON_UI_ENTITY_AVAILABLE"       bind="OnEntityAvailable"   />
        <Event name="ON_SQUAD_ROSTER_UPDATE"       bind="OnSquadRosterUpdate" />
        <Event name="ON_LOOT_COLLECTED"            bind="OnLootCollected"     />
        <Event name="ON_LOOT_PICKUP"               bind="OnLootPickup"        />
        <Event name="ON_CHAT_MESSAGE"              bind="OnChatMessage"       />
    </Events>

    <Textures>
        <Texture name="PanelTex" src="./obj/panel/loot_panel.dds" premultiplied="false">
            <Region name="Panel" top="26" left="26" right="486" bottom="272" />
            <Region name="ArrowMarker1" top="310" left="28" right="75" bottom="343" />
            <Region name="ArrowMarker2" top="310" left="78" right="125" bottom="343" />
            <Region name="Dragon" top="360" left="26" right="486" bottom="440" />
        </Texture>

        <Texture name="TrackerIcons" src="./trackericons.dds" premultiplied="false">
            <Region name="Need" top="0" left="0" right="25" bottom="25" />
            <Region name="Greed" top="30" left="0" right="25" bottom="55" />
            <Region name="Pass" top="60" left="0" right="25" bottom="85" />

            <Region name="Dismiss" top="0" left="30" right="55" bottom="25" />
            <Region name="Info" top="30" left="30" right="55" bottom="55" />
            <Region name="Compare" top="60" left="30" right="55" bottom="85" />
        </Texture>

        <Texture name="ItemPlates" src="components/MainUI/HUD/Loot/itemplates.png" premultiplied="false" >
            <Region name="epic_64" top="0" bottom="64" left="392" right="456" />
            <Region name="epic_96" top="0" bottom="96" left="196" right="292" />
            <Region name="legendary_64" top="98" bottom="162" left="164" right="228" />
            <Region name="legendary_96" top="0" bottom="96" left="0" right="96" />
            <Region name="rare_64" top="164" bottom="228" left="98" right="162" />
            <Region name="rare_96" top="0" bottom="96" left="98" right="194" />
            <Region name="salvage_64" top="98" bottom="162" left="230" right="294" />
            <Region name="salvage_96" top="98" bottom="194" left="0" right="96" />
            <Region name="common_64" top="98" bottom="162" left="230" right="294" />
            <Region name="common_96" top="98" bottom="194" left="0" right="96" />
            <Region name="uncommon_64" top="98" bottom="162" left="98" right="162" />
            <Region name="uncommon_96" top="0" bottom="96" left="294" right="390" />
        </Texture>
    </Textures>
    
    <Styles>
        <StyleSheet name="ItemHeader">  
            font:Demi_17;
            halign:center;
            valign:middle;
            color:FFFFFF;
            scaleX:2;
            scaleY:2";
        </StyleSheet>
        
        <StyleSheet name="Tracker_Text">  
            font:UbuntuMedium_10;
            halign:left;
            valign:middle;
            color:FFFFFF;
            alpha:1.0;
            shadow:0;
        </StyleSheet>

        <StyleSheet name="LootPanel_Text_Large">  
            font:Demi_17;
            halign:center;
            valign:top;
            color:FFFFFF;
            scaleX:2;
            scaleY:2;
        </StyleSheet>

        <StyleSheet name="LootPanel_Text_Timer">
            font:Demi_17;
            halign:center;
            valign:middle;
            color:FFFFFF;
            scaleX:2;
            scaleY:2;
        </StyleSheet>

        <StyleSheet name="LootPanel_Text_Small">  
            font:UbuntuMedium_12;
            halign:left
            color:FFFFFF;
            scaleX:2;
            scaleY:2;
        </StyleSheet>
    </Styles>
    
    <BluePrints>

        <BluePrint name="LootPanel_Stat" instantiable="true">
            <StillArt dimensions="top:0; left:10%; width:40% -8; height:100%;" style="texture:colors; region:white; tint:#000000; alpha:0.5;"/>
            <StillArt dimensions="top:0; left:50%; width:40%; height:100%;" style="texture:colors; region:white; tint:#000000; alpha:0.5;"/>
            <Text name="statName" dimensions="top:0; left:10%; width:40%; height:100%;" class="LootPanel_Text_Small"/>
            <Text name="statValue" dimensions="top:0; left:50%; width:40%; height:100%;" class="LootPanel_Text_Small"/>
        </BluePrint>

        <BluePrint name="Tracker_List_Entry" instantiable="true">

            <!-- Plate -->
            <FocusBox name="plate" dimensions="width:100%-35; height:100%; left:32; top:2;">
                <StillArt name="bg" dimensions="width:100%-2.2; height:99%-2;" style="texture:colors; region:white; tint:#000000; alpha:0.7;"/>
                <Border name="outer" dimensions="dock:fill" class="ButtonBorder"/>
                <Border name="shade" dimensions="dock:fill" class="ButtonFade"/>
            </FocusBox>

            <!-- Item icon -->
            <FocusBox name="item" dimensions="width:35; height:35; left:0; top:0;">
                <StillArt name="bg" dimensions="width:96%; height:96%;" style="texture:colors; region:white; tint:#000000; alpha:1;"/>
                <StillArt name="backplate" dimensions="width:99%; height:99%;" style="texture:ItemPlates; region:common_64"/>
                <Border name="outer" dimensions="dock:fill" class="ButtonBorder"/>
                <Border name="shade" dimensions="width:0;height:0;" class="ButtonFade"/>
                <WebImage name="itemIcon" dimensions="width:35; height:35; left:0; top:0" style="fixed-bounds:true; valign:center;"/>
            </FocusBox>

            <!-- Bar on the left -->
            <Group name="leftBar" dimensions="left:11%; width:25%; height:100%; top:2;">

                 <!-- Bar Backplate -->
                <!--<StillArt dimensions="dock:fill" style="texture:colors; region:white; tint:#00FF00; alpha:0.6;"/>-->

                <!-- Primary Button Group -->
                <ListLayout name="buttons" dimensions="width:87; height:25" style="halign:center; valign:center; horizontal:true; hpadding:4;" >
                    <!-- Buttons dynamically created -->
                </ListLayout>

                <!-- Alternate Text -->
                <Text name="assignedTo" dimensions="width:100%; height:100%;" class="Tracker_Text"/>

            </Group>

            <!-- Item name on the right -->
            <Text name="itemName" dimensions="left:59%; width:20%; height:100%; top:2;" class="Tracker_Text"/>
        </BluePrint>
    </BluePrints>

    <Frames>
        <!-- Tracker 
            width:400; 
        -->
        <PanelFrame name="Tracker" dimensions="left:0; right:50%-450; height:150; center-y:74%;" permanent="true" visible="true" depth="10">
            <Children>
                <!--<StillArt name="Background" dimensions="dock:fill" style="texture:colors; region:white; tint:#000000; alpha:0.3;"/>-->
                
                    <!-- List -->
                    <ListLayout name="List" dimensions="width:100%; height:98%; top:2%; center-x:50%;" style="vertical:true; vpadding:9; clip-children:true;">
                        <!-- Tracker_List_Entry:ies go in here -->
                    </ListLayout>

                    <!-- Tooltip -->
                    <ListLayout name="Tooltip" dimensions="width:400; height:400; top:0; left:0" style="visible:false">
                        <Group name="header" dimensions="left:0; top:0; width:100%; height:50">
                            <WebImage name="icon" dimensions="left:0; top:0; height:50; width:50;"/>
                            <Text name="name" dimensions="left:50; right:100%; height:100%" style="font:Demi_15; halign:left; valign:top; wrap:true;"/>
                            <Text name="subname" dimensions="left:50; right:100%; height:100%" style="font:Demi_13; halign:left; valign:bottom; wrap:true;"/>
                        </Group>
                        <Text name="yields" dimensions="dock:fill" style="font:Demi_11; halign:left; valign:center"/>
                        <StillArt dimensions="left:0; right:100%; height:1; top:100" style="texture:colors; region:white; alpha:0.6"/>
                        <Text name="requirements" dimensions="dock:fill" style="font:Demi_11; leading-mult:1.5; halign:left; valign:center"/>
                        <StillArt dimensions="left:0; right:100%; height:1; top:100" style="texture:colors; region:white; alpha:0.6"/>
                        <Text name="desc" dimensions="top:45; bottom:100%; width:100%" style="font:Demi_10; leading-mult:1.5; alpha:0.6; halign:left; valign:center; wrap:true;"/>
                    </ListLayout>
            </Children>
        </PanelFrame>
    </Frames>
</Component>